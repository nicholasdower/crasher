buildscript {
  repositories {
    maven { url 'https://maven.fabric.io/public' }
  }

  dependencies {
    classpath 'io.fabric.tools:gradle:1.+'
  }
}

repositories {
  maven { url 'https://maven.fabric.io/public' }
}

apply plugin: 'com.android.application'

android {
  compileSdkVersion 26

  defaultConfig {
    applicationId "foo.crasher"
    minSdkVersion 16
    targetSdkVersion 26
  }

  externalNativeBuild {
    cmake {
      path 'src/main/cpp/CMakeLists.txt'
    }
  }
}

apply plugin: 'io.fabric'

crashlytics {
  enableNdk true
  manifestPath 'src/main/AndroidManifest.xml'
  // We do not need to specify androidNdkOut and androidNdkLibsOut. See https://stackoverflow.com/questions/40134153/crashlytics-ndk-symbol-building-from-command-line.
}

dependencies {
  implementation 'com.android.support:appcompat-v7:26.1.0'
  implementation("com.crashlytics.sdk.android:crashlytics:2.9.1") {
    transitive = true
  }
  implementation("com.crashlytics.sdk.android:crashlytics-ndk:2.0.2") {
    transitive = true
  }
  implementation 'com.android.support.constraint:constraint-layout:1.0.2'
  implementation 'com.android.support:design:26.1.0'
}
